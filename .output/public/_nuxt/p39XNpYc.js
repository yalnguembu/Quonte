import{u as V,a as k,_ as $,b as E,c as R,d as n,r as h,e as S}from"./3gFks-3X.js";import{d as v,v as u,x as m,y as t,z as y,L as B,M as T,N as M,O as C,P as U,G as q,H as w,c as A,i as L,A as i,I as r,J as N,K as P,C as b,B as I,F as O}from"./CaBq0nxF.js";import{_ as Y,B as D}from"./CJIJf1_5.js";import{R as G,A as W}from"./BXp7uHvt.js";import"./DlAUqK2U.js";const z={class:"w-full"},F={class:"font-500 dark:text-gray-100"},X=["placeholder","value"],j=["data-test"],H=v({__name:"TextInput",props:{modelValue:{},label:{},placeholder:{},errors:{default:()=>[]},isValid:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(f,{emit:c}){const s=c,a=f;return(l,p)=>(u(),m("div",z,[t("label",F,y(a.label),1),t("input",{class:B(["rounded border px-3 py-1 w-full mt-2 bg-transparent outline-none dark:text-gray-100 dark:border-gray-700",l.errors.length?"outline-red-500":l.isValid?"outline-green-500 dark:outline-green-600":"focus:outline-blue-500 dark:focus:outline-blue-600"]),type:"text",placeholder:a.placeholder,value:a.modelValue,onInput:p[0]||(p[0]=e=>s("update:modelValue",e.target.value))},null,42,X),(u(!0),m(T,null,M(a.errors,e=>{var g;return C((u(),m("p",{"data-test":e.$property,key:e.$uid,class:"pt-1 text-red-500 transition delay-500 text-sm"},y(e.$message),9,j)),[[U,(g=a.errors)==null?void 0:g.length]])}),128))]))}}),J={class:"w-full h-[92vh] dark:bg-gray-900 flex items-start justify-center lg:items-center"},K={class:"card bg-white dark:bg-gray-900 p-8 rounded-lg w-full dark:border-gray-700 lg:shadow-xl lg:border lg:p-9 lg:p-9 lg:w-1/2"},Q=t("div",{class:"lg:text-center"},[t("h1",{class:"font-bold text-xl text-green-700 dark:text-gray-100"}," Sign Up "),t("p",{class:"text-gray-500 dark:text-gray-400 py-6 lg:p-6"}," Welcome back! We need some informations for configure your personal space ")],-1),Z={key:0,class:"mb-4"},ee={class:"grid grid-cols-1 gap-4 mb-4 lg:grid-cols-2"},se={class:"mb-4"},te={class:"w-full mb-6 mt-6"},ae={class:"text-gray-500 text-sm text-center"},de=v({__name:"sign-up",setup(f){const c=V(),s=q({username:"",email:"",password:""}),a=w(!1),l=w(""),p=A(()=>({username:{required:n.withMessage("You may forgot to field this input",h)},email:{email:n.withMessage("This email does't repesct the format",S),required:n.withMessage("You may forgot to field this input",h)},password:{required:n.withMessage("You may forgot to field this input",h),mustBeValidPassword:n.withMessage("This filed does't repect the awaited format",n.regex(G.PASSWORD))}})),e=k(p,s),g=async()=>{if(e.value.$touch(),!e.value.$invalid)try{a.value=!0,await c.signUp({username:s.username,email:s.email,password:s.password}),O().push("/")}catch(_){l.value=_.message}finally{setTimeout(()=>a.value=!1,1e3),s.password=""}};return(_,o)=>{const x=L("RouterLink");return u(),m("div",J,[t("div",K,[Q,l.value?(u(),m("div",Z,[i($,{summary:l.value,"alert-type":r(W).ERROR},null,8,["summary","alert-type"])])):N("",!0),t("form",{onSubmit:P(g,["prevent"])},[t("div",ee,[i(H,{"data-test":"username-input",label:"username",placeholder:"Enter your username",modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=d=>s.username=d),errors:r(e).username.$errors,isValid:!r(e).username.$silentErrors.length},null,8,["modelValue","errors","isValid"]),i(E,{"data-test":"email-input",label:"Email",placeholder:"Enter your email adress",modelValue:s.email,"onUpdate:modelValue":o[1]||(o[1]=d=>s.email=d),errors:r(e).email.$errors,isValid:!r(e).email.$silentErrors.length},null,8,["modelValue","errors","isValid"])]),t("div",se,[i(R,{"data-test":"password-input",label:"Password",placeholder:"Enter your password",modelValue:s.password,"onUpdate:modelValue":o[2]||(o[2]=d=>s.password=d),errors:r(e).password.$errors,isValid:!r(e).password.$silentErrors.length},null,8,["modelValue","errors","isValid"])]),t("div",te,[i(Y,{"data-test":"submit-button",type:r(D).submit,disable:r(e).$silentErrors.length,title:a.value?"Signing...":"Sign Up",class:"w-full",theme:`w-full px-8 py-1 ${r(e).$silentErrors.length||a.value?"bg-green-600/30 cursor-not-allowed dark:bg-green-300/20 dark:text-green-400":"bg-green-900 hover:bg-green-800 dark:bg-green-100 dark:hover:bg-green-200"} text-white dark:text-green-900 rounded text-lg transition delay-200`},null,8,["type","disable","title","theme"])])],32),t("h2",ae,[b(" Already member of us? "),i(x,{to:"sign-in",class:"text-black dark:text-gray-100 hover:underline"},{default:I(()=>[b(" Go within! ")]),_:1})])])])}}});export{de as default};
