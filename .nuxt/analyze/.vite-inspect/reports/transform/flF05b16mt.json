{
  "resolvedId": "/home/yalnguembu/Perso/quonte/pages/auth/sign-in.vue?macro=true",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "<template>\n  <div\n    class=\"w-full min-h-[92vh] p-2 dark:bg-gray-900 flex items-start justify-center lg:items-center\"\n  >\n    <div\n      class=\"card bg-white dark:bg-gray-900 p-8 rounded-lg w-full dark:border-gray-700 lg:shadow-xl lg:border lg:p-9 lg:p-9 lg:w-2/5 xl:w-1/3\"\n    >\n      <div class=\"lg:text-center\">\n        <h1 class=\"font-bold text-xl text-green-700 dark:text-gray-100\">\n          Sign In\n        </h1>\n        <p class=\"text-gray-500 dark:text-gray-400 py-6 lg:p-6\">\n          Welcome back! We need some information to restore your session\n        </p>\n      </div>\n      <div v-if=\"requestError\" class=\"mb-4\">\n        <AlertBox :summary=\"requestError\" :alert-type=\"ALERT_BOX_TYPE.ERROR\" />\n      </div>\n      <form @submit.prevent=\"signIn\">\n        <div class=\"mb-6\">\n          <EmailInput\n            data-test=\"email-input\"\n            label=\"Email\"\n            placeholder=\"Enter your email adress\"\n            v-model=\"user.email\"\n            :errors=\"v$.email.$errors\"\n          />\n        </div>\n        <div class=\"mb-6\">\n          <PasswordInput\n            data-test=\"password-input\"\n            label=\"Password\"\n            placeholder=\"Enter your password\"\n            v-model=\"user.password\"\n          />\n        </div>\n        <div class=\"w-full text-right\">\n          <RouterLink\n            to=\"\"\n            class=\"font-600 text-sm dark:text-gray-100 hover:text-yellow-500 dark:hover:text-yellow-500 hover:underline\"\n          >\n            Have a trouble in Sin In?\n          </RouterLink>\n        </div>\n        <div class=\"w-full mb-6 mt-6\">\n          <BaseButton\n            data-test=\"submit-button\"\n            :type=\"ButtonType.submit\"\n            :disable=\"v$.$silentErrors.length\"\n            :title=\"isSigning ? 'Signing...' : 'Sign In'\"\n            class=\"w-full\"\n            :theme=\"`w-full px-8 py-1 ${\n              v$.$silentErrors.length || isSigning\n                ? 'bg-green-600/30 cursor-not-allowed dark:bg-green-300/20 dark:text-green-400'\n                : 'bg-green-900 hover:bg-green-800 dark:bg-green-100 dark:hover:bg-green-200'\n            } text-white dark:text-green-900 rounded text-lg transition delay-200 hover:shadow-lg`\"\n          />\n        </div>\n      </form>\n      <h2 class=\"text-gray-500 text-sm text-center\">\n        Don't you have an account?\n        <RouterLink\n          to=\"sign-up\"\n          class=\"text-black dark:text-gray-100 hover:underline\"\n        >\n          Request Now!\n        </RouterLink>\n      </h2>\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { useSessionStore } from \"~/stores/session\";\nimport { computed, reactive, shallowRef } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { ButtonType } from \"@/utils/type\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport type { AuthenticationError } from \"@/utils/error\";\nimport { ALERT_BOX_TYPE } from \"@/utils/enum\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport { required, email, helpers } from \"@vuelidate/validators\";\nimport BaseButton from \"@/components/button/BaseButton.vue\";\nimport EmailInput from \"@/components/form/EmailInput.vue\";\nimport PasswordInput from \"@/components/form/PasswordInput.vue\";\nimport AlertBox from \"@/components/AlertBox.vue\";\n\nconst sessionStore = useSessionStore();\nconst router = useRouter();\nconst user = reactive<{ email: string; password: string }>({\n  email: \"\",\n  password: \"\",\n});\n\nconst isSigning = shallowRef<boolean>(false);\nconst requestError = shallowRef<string>(\"\");\n\nconst rules = computed(() => ({\n  email: {\n    email: helpers.withMessage(\"This email does't repesct the format\", email),\n    required: helpers.withMessage(\n      \"You may forgot to field this input\",\n      required\n    ),\n  },\n  password: {\n    required: helpers.withMessage(\n      \"You may forgot to field this input\",\n      required\n    ),\n  },\n}));\n\nconst v$ = useVuelidate(rules, user);\n\nconst signIn = async () => {\n  v$.value.$touch();\n\n  if (!v$.value.$invalid) {\n    try {\n      isSigning.value = true;\n      await sessionStore.signIn(user);\n      isSigning.value = false;\n      await router.push(\"/\");\n    } catch (error: AuthenticationError | any) {\n      console.log(error);\n      requestError.value = error.message;\n    } finally {\n      isSigning.value = false;\n      user.password = \"\";\n    }\n  }\n};\n</script>\n",
      "start": 1713208768622,
      "end": 1713208768901,
      "sourcemaps": null
    },
    {
      "name": "nuxt:layer-aliasing",
      "start": 1713208768901,
      "end": 1713208768901,
      "order": "pre"
    },
    {
      "name": "nuxt:server-devonly:transform",
      "start": 1713208768901,
      "end": 1713208768901,
      "order": "pre"
    },
    {
      "name": "unplugin-vue-i18n",
      "start": 1713208768901,
      "end": 1713208768901,
      "order": "pre"
    },
    {
      "name": "nuxtjs:i18n-macros-transform",
      "start": 1713208768901,
      "end": 1713208768910,
      "order": "pre"
    },
    {
      "name": "nuxt:client-fallback-auto-id",
      "start": 1713208768910,
      "end": 1713208768910,
      "order": "pre"
    },
    {
      "name": "vite:css",
      "start": 1713208768910,
      "end": 1713208768910,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1713208768910,
      "end": 1713208768910,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1713208768910,
      "end": 1713208768910,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1713208768910,
      "end": 1713208768910,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": "import _sfc_main from \"/home/yalnguembu/Perso/quonte/pages/auth/sign-in.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/home/yalnguembu/Perso/quonte/pages/auth/sign-in.vue?vue&type=script&setup=true&lang.ts\";\nexport default _sfc_main;\n",
      "start": 1713208768910,
      "end": 1713208770703,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:vue-jsx",
      "start": 1713208770703,
      "end": 1713208770703,
      "order": "normal"
    },
    {
      "name": "replace",
      "start": 1713208770703,
      "end": 1713208770703,
      "order": "normal"
    },
    {
      "name": "nuxt:remove-plugin-metadata",
      "start": 1713208770704,
      "end": 1713208770704,
      "order": "normal"
    },
    {
      "name": "nuxt:chunk-error",
      "start": 1713208770704,
      "end": 1713208770704,
      "order": "normal"
    },
    {
      "name": "nuxt:components:imports",
      "start": 1713208770704,
      "end": 1713208770705,
      "order": "normal"
    },
    {
      "name": "replace",
      "start": 1713208770705,
      "end": 1713208770705,
      "order": "normal"
    },
    {
      "name": "ssr-styles",
      "start": 1713208770705,
      "end": 1713208770705,
      "order": "normal"
    },
    {
      "name": "vite:define",
      "start": 1713208770706,
      "end": 1713208770706,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1713208770706,
      "end": 1713208770706,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1713208770706,
      "end": 1713208770706,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1713208770707,
      "end": 1713208770707,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1713208770707,
      "end": 1713208770707,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1713208770707,
      "end": 1713208770707,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1713208770707,
      "end": 1713208770707,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1713208770708,
      "end": 1713208770708,
      "order": "normal"
    },
    {
      "name": "nuxt:composable-keys",
      "start": 1713208770708,
      "end": 1713208770708,
      "order": "post"
    },
    {
      "name": "unhead:use-seo-meta-transform",
      "start": 1713208770708,
      "end": 1713208770708,
      "order": "post"
    },
    {
      "name": "nuxtjs:i18n-resource",
      "start": 1713208770709,
      "end": 1713208770709,
      "order": "post"
    },
    {
      "name": "nuxtjs:i18n-meta-deprecation",
      "start": 1713208770710,
      "end": 1713208770710,
      "order": "post"
    },
    {
      "name": "nuxt:imports-transform",
      "start": 1713208770710,
      "end": 1713208770723,
      "order": "post"
    },
    {
      "name": "unctx:transform",
      "start": 1713208770723,
      "end": 1713208770734,
      "order": "post"
    },
    {
      "name": "nuxt:pages-macros-transform",
      "result": "export { default } from \"/home/yalnguembu/Perso/quonte/pages/auth/sign-in.vue?macro=true&vue&type=script&setup=true&lang.ts\"",
      "start": 1713208770734,
      "end": 1713208770736,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          ""
        ],
        "names": [],
        "mappings": "AAAA"
      }
    },
    {
      "name": "nuxt:runtime-paths-dep",
      "start": 1713208770736,
      "end": 1713208770736,
      "order": "post"
    },
    {
      "name": "nuxt:route-injection-plugin",
      "start": 1713208770736,
      "end": 1713208770736,
      "order": "post"
    },
    {
      "name": "nuxt:components-loader",
      "start": 1713208770737,
      "end": 1713208770737,
      "order": "post"
    },
    {
      "name": "nuxt:tree-shake-composables:transform",
      "start": 1713208770737,
      "end": 1713208770737,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1713208770737,
      "end": 1713208770738,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1713208770738,
      "end": 1713208770738,
      "order": "normal"
    }
  ]
}
